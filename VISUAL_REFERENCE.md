# Visual Reference Guide

## Feature Locations & UI Layout

### Dashboard Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header Navigation (Logo, Menu, Notifications)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚                                      â”‚
â”‚   Sidebar    â”‚     Main Content Area               â”‚
â”‚   (Menu)     â”‚                                      â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚              â”‚  â”‚  Dashboard / Traffic / Incidents â”‚â”
â”‚              â”‚  â”‚  Incidents / Analytics           â”‚â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚              â”‚                                      â”‚
â”‚              â”‚  â”Œâ”€ Emergency Features (Fixed) â”€â”€â”€â”€â”â”‚
â”‚              â”‚  â”‚                                  â”‚â”‚
â”‚              â”‚  â”‚  [â˜ï¸] Chatbot                    â”‚â”‚
â”‚              â”‚  â”‚  (bottom-right)                  â”‚â”‚
â”‚              â”‚  â”‚                                  â”‚â”‚
â”‚              â”‚  â”‚  [ğŸ”´ SOS] Emergency Recording   â”‚â”‚
â”‚              â”‚  â”‚  (bottom-right)                  â”‚â”‚
â”‚              â”‚  â”‚                                  â”‚â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚              â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Feature 1: Multilingual Chatbot

### Floating Button State
```
â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚  â˜ï¸  â”‚  Phone Icon Button
â”‚      â”‚  Position: Fixed Bottom-Right
â”‚      â”‚  Color: Orange (Accent)
â”‚      â”‚  Size: 56px diameter
â””â”€â”€â”€â”€â”€â”€â”˜
```

### Chat Window (Opened)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸš¨ Emergency Support        [X]         â”‚  Header (Red)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Language: [EN] [ES] [FR] [DE] [JA] [ZH] â”‚  Language Selector
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  Assistant: How can I help you?        â”‚  Chat Messages
â”‚                                         â”‚
â”‚  User: I need emergency help            â”‚
â”‚                                         â”‚
â”‚  Assistant: I'm here to assist...      â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Message Input...]        [Send â¤]      â”‚  Input Area
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ¤ Voice]  [âŒ Stop (if recording)]    â”‚  Voice Controls
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Dimensions: 384px width Ã— 600px height
```

### Voice Feature States

**Listening State:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤ Listening...  â”‚  Animated microphone
â”‚ ğŸ”´ Recording     â”‚  Visual feedback
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Speaking State:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”Š Speaking...   â”‚  Audio playing
â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘   â”‚  Progress bar
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Feature 2: SOS Emergency Recording

### SOS Button (Not Active)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”´ SOS         â”‚  Red button
â”‚ PULSING        â”‚  Animated pulse effect
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Position: Fixed Bottom-24 Right-8
Visible from: All pages
```

### SOS Modal (Active Recording)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸš¨ Emergency Recording             [X]     â”‚  Header (Red)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚  Camera Feed:                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                      â”‚ â”‚
â”‚  â”‚  [ğŸ“¹ Video Preview]      ğŸ”´ 05s/10s â”‚ â”‚
â”‚  â”‚                                      â”‚ â”‚
â”‚  â”‚                                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚
â”‚  [ğŸ“¹ Start Recording] or [â—»ï¸ Stop]         â”‚
â”‚                                            â”‚
â”‚  Saved Recordings:                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 10:30 AM    Duration: 10s ğŸ“Current â”‚ â”‚
â”‚  â”‚ [ğŸ“¥] [âŒ]                            â”‚ â”‚
â”‚  â”‚ 10:15 AM    Duration: 8s  ğŸ“Current â”‚ â”‚
â”‚  â”‚ [ğŸ“¥] [âŒ]                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚
â”‚  â„¹ï¸ Videos stored locally. Download to     â”‚
â”‚     persist. All videos cleared on close.  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Dimensions: Full-screen modal
```

### Recording Process Flow

```
1. User clicks [ğŸ”´ SOS]
   â†“
2. Modal opens + Camera access requested
   â†“
3. User grants permission (or denies)
   â†“
4. Camera feed displays in real-time
   â†“
5. User clicks [ğŸ“¹ Start Recording]
   â†“
6. Recording begins, timer shows 0-10s
   â†“
7. At 10s, automatically stops
   â†“
8. Video saved to recordings list
   â†“
9. User can download or delete
```

---

## Feature 3: Report Export

### Export Panel Location
```
Analytics & Reports Page
â†“
[Charts and Analytics Data]
â†“
[Key Performance Indicators]
â†“
[Signal Efficiency Trends]
â†“
[Intersection Performance]
â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹ Export Reports           â”‚  â† Export Component
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  Download detailed reports   â”‚
â”‚  in your preferred format    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Export Component Layout
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ Export Reports                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚ ğŸ“… Date Range Selection:                    â”‚
â”‚ [Start Date: ________]  [End Date: ________]â”‚
â”‚                                             â”‚
â”‚ ğŸ“Š Available Reports:                       â”‚
â”‚ â˜ Traffic Summary Report                    â”‚
â”‚   Overall traffic statistics               â”‚
â”‚ â˜ Incident Report                          â”‚
â”‚   Detailed incident logs                   â”‚
â”‚ â˜ Vehicle Detection Analytics              â”‚
â”‚   Vehicle type and movement patterns       â”‚
â”‚                                             â”‚
â”‚ ğŸ”½ Export Format:                          â”‚
â”‚ [PDF] [CSV] [JSON]                         â”‚
â”‚                                             â”‚
â”‚ Format Info:                                â”‚
â”‚ PDF: Professional formatted documents      â”‚
â”‚                                             â”‚
â”‚ [ğŸ“¥ Export as PDF]                         â”‚
â”‚                                             â”‚
â”‚ âš¡ Quick Export:                           â”‚
â”‚ [Today] [This Week] [This Month]           â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component File Tree

```
traffic-signal-system/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ chat/
â”‚   â”‚       â””â”€â”€ route.ts              â† Chatbot API
â”‚   â”œâ”€â”€ page.tsx                      â† Main page (updated)
â”‚   â””â”€â”€ layout.tsx
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ emergency/
â”‚   â”‚   â”œâ”€â”€ emergency-chatbot.tsx     â† Chatbot component
â”‚   â”‚   â””â”€â”€ sos-button.tsx            â† SOS component
â”‚   â”‚
â”‚   â”œâ”€â”€ reports/
â”‚   â”‚   â””â”€â”€ export-reports.tsx        â† Export component
â”‚   â”‚
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â””â”€â”€ dashboard.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ analytics/
â”‚   â”‚   â””â”€â”€ analytics-page.tsx        â† Contains export
â”‚   â”‚
â”‚   â”œâ”€â”€ layout/
â”‚   â”œâ”€â”€ traffic/
â”‚   â”œâ”€â”€ incidents/
â”‚   â””â”€â”€ ui/
â”‚
â”œâ”€â”€ public/
â”‚   â””â”€â”€ uploads/                      â† SOS recordings (local)
â”‚
â””â”€â”€ docs/
    â”œâ”€â”€ FEATURES_DOCUMENTATION.md
    â”œâ”€â”€ IMPLEMENTATION_GUIDE.md
    â”œâ”€â”€ ENV_SETUP_GUIDE.md
    â”œâ”€â”€ NEW_FEATURES_SUMMARY.md
    â””â”€â”€ FEATURES_INDEX.md
```

---

## Data Flow Diagrams

### Chatbot Data Flow
```
User Input (Text/Voice)
        â†“
[EmergencyChatbot Component]
        â†“
Language Selection
        â†“
POST /api/chat
(messages, language)
        â†“
[AI Service]
(OpenAI/Anthropic/etc)
        â†“
Server-Sent Events Stream
        â†“
[Display Response]
        â†“
Text-to-Speech Output (Optional)
        â†“
User hears audio response
```

### SOS Recording Data Flow
```
User clicks SOS
        â†“
[SOSButton Component]
        â†“
Request Camera Access
        â†“
User Grants Permission
        â†“
Camera Stream Activated
        â†“
User clicks "Start Recording"
        â†“
MediaRecorder captures video/audio
        â†“
Auto-stops at 10 seconds
        â†“
Video Blob Created
        â†“
Save to recordings array
        â†“
User can:
â”œâ”€ Download (â†’ Browser Download)
â”œâ”€ Delete (â†’ Remove from array)
â””â”€ Upload (â†’ Backend endpoint)
```

### Export Data Flow
```
User selects date range
        â†“
Choose export format
        â†“
Click Export button
        â†“
Fetch report data:
â”œâ”€ GET /api/reports/summary
â”œâ”€ GET /api/reports/incidents
â””â”€ GET /api/reports/analytics
        â†“
Format data:
â”œâ”€ PDF: Create formatted document
â”œâ”€ CSV: Convert to spreadsheet
â””â”€ JSON: Structure as JSON
        â†“
Generate file
        â†“
Create download link
        â†“
Browser downloads file
        â†“
File saved to Downloads folder
```

---

## UI Component States

### Chatbot States
```
1. Closed (Button visible)
   â””â”€ [â˜ï¸] Button

2. Open (Ready to chat)
   â””â”€ Chat window visible
      â””â”€ Input ready for typing

3. Listening (Voice input)
   â””â”€ Microphone active
      â””â”€ User speaks

4. Speaking (Audio response)
   â””â”€ Playback active
      â””â”€ Animation showing

5. Error (Something wrong)
   â””â”€ Error message shown
      â””â”€ Try again button
```

### SOS Recording States
```
1. Button ready
   â””â”€ [ğŸ”´ SOS] pulsing

2. Modal open
   â””â”€ Camera permission prompt OR
      Camera feed showing

3. Recording
   â””â”€ Timer 0-10s
   â””â”€ Stop button active

4. Stopped
   â””â”€ Recording saved
   â””â”€ Listed in recordings

5. Downloaded
   â””â”€ File in Downloads folder
   â””â”€ Persisted locally
```

### Export States
```
1. Ready
   â””â”€ All fields empty
   â””â”€ Export button ready

2. Date selected
   â””â”€ Start/End dates set
   â””â”€ Reports visible

3. Format selected
   â””â”€ PDF/CSV/JSON chosen
   â””â”€ Info text updates

4. Exporting
   â””â”€ Loading state
   â””â”€ Progress indicator

5. Complete
   â””â”€ File downloaded
   â””â”€ Success notification
```

---

## Button Reference

### Primary Buttons
```
Action Buttons:
[ğŸ“¥ Export as PDF]     Orange/Accent color
[ğŸ“¹ Start Recording]   Red color
[ğŸ¤ Voice]            Blue color
[Send â¤]              Blue color

Navigation Buttons:
[Language Tab]        Changes color on select
[Format Tab]          Changes color on select
[Quick Export]        Outline style
```

### Icon Reference
```
Navigation & Controls:
â˜ï¸  - Chatbot button (Phone)
ğŸ”´ - SOS button (Red alert)
ğŸ“‹ - Reports (Clipboard)
âŒ - Close/Delete
ğŸ¤ - Microphone (Voice input)
ğŸ“¥ - Download
ğŸ”Š - Speaker (Audio output)
ğŸ“¹ - Camera/Video
â—»ï¸  - Stop recording
ğŸ“± - Phone/Mobile
âŒ - Delete/Remove

Indicators:
ğŸ”´ - Recording active
â–“â–“ - Progress bar
... - Loading indicator
âœ“  - Success
âš ï¸  - Warning
```

---

## Responsive Breakpoints

### Mobile (< 768px)
```
- Chatbot window: 90vw width
- SOS modal: Full screen
- Export panel: Single column
- Stacked layout
```

### Tablet (768px - 1024px)
```
- Chatbot window: 384px
- SOS modal: Centered modal
- Export panel: 2 columns
- Adjusted spacing
```

### Desktop (> 1024px)
```
- Chatbot window: 384px (fixed)
- SOS modal: Centered modal
- Export panel: 3 columns
- Full width layouts
```

---

## Color Codes

### Primary Colors
```
Background:   #0f1419  (Navy dark)
Primary:      #1a2332  (Navy)
Foreground:   #fafbfc  (Off white)
Card:         #1e2633  (Darker navy)

Accent Colors:
Cyan:         #00d4ff  (Secondary)
Orange:       #ff3a1f  (Accent)

Status Colors:
Success:      #22c55e  (Green)
Warning:      #f59e0b  (Orange)
Error:        #ef4444  (Red)
Info:         #3b82f6  (Blue)
```

### Button States
```
Normal:       Background color
Hover:        Darker shade
Active:       Accent highlight
Disabled:     Muted gray
Loading:      Animated gradient
```

---

## Animation References

### Pulsing Button (SOS)
```
@keyframes pulse {
  0%, 100% { opacity: 1 }
  50%      { opacity: 0.7 }
}
Duration: 2s
Iteration: Infinite
```

### Blinking Indicator
```
@keyframes blink {
  0%, 100% { opacity: 1 }
  50%      { opacity: 0 }
}
Duration: 1s
Iteration: Infinite
```

### Slide In (Chat Window)
```
@keyframes slideIn {
  from { transform: translateX(400px) }
  to   { transform: translateX(0) }
}
Duration: 300ms
```

---

## Keyboard Shortcuts

### Chatbot
- `Enter` - Send message
- `Shift+Enter` - New line
- `Esc` - Close chat

### SOS Recording
- `Esc` - Close modal
- `Space` - Start/Stop recording (if focused)

### Report Export
- `Esc` - Close modal (if applicable)
- `Enter` - Execute export

---

## Accessibility Features

### ARIA Labels
```
<button aria-label="Open emergency chat">â˜ï¸</button>
<button aria-label="Start emergency recording">ğŸ”´</button>
<button aria-label="Download report">ğŸ“¥</button>
```

### Screen Reader Text
```
<span class="sr-only">Emergency Support Chat</span>
<span class="sr-only">SOS Recording Active</span>
```

### Keyboard Navigation
```
Tab - Move between elements
Enter - Activate buttons
Space - Toggle checkboxes
Arrow Keys - Navigate lists
```

---

**Visual Reference Complete** - Use this guide when implementing or customizing UI.

